"use strict";!function(){jQuery(function(t){var s,n;return wc_memberships_admin.initializeEnhancedSelect(t(".js-ajax-select-products"),{action:"woocommerce_json_search_products_and_variations",security:wc_memberships_admin.search_products_nonce,screen:"wc_membership_plan"}),t.each(["content-restriction","product-restriction","purchasing-discount"],function(e,s){return wc_memberships_admin.initializeRuleset(s)}),t("#restriction_mode").on("change",function(e){var s=t(this).val();return"redirect"===s?(t("div.redirect-page").slideDown(),t(".show-excerpts").slideDown()):(t("div.redirect-page").slideUp(),"hide"===s?t(".show-excerpts").slideUp():t(".show-excerpts").slideDown())}),t("#access_method").on("change",function(e){return"purchase"===t(this).val()?t(".product-purchase").slideDown():t(".product-purchase").slideUp()}),t("#access_length_type").on("change",function(e){var s=t(this).val();return"specific"===s?(t("#access-dates").hide(),t("#access-length").show()):"fixed"===s?(t("#access-length").hide(),t("#access-dates").show()):(t("#access-length").hide(),t("#access-dates").hide())}),t("input.access-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,showOn:"button",buttonImage:wc_memberships_admin.calendar_image,buttonImageOnly:!0}),t("input.toggle-preferences").on("change",function(e){var s=0<t(this).closest("div.membership-plan-rules").length?t(this).closest("div.sv-wc-plugin-admin-setup-control").next("div.membership-plan-rule"):t(this).closest("div.sv-wc-plugin-admin-setup-control").find(".preferences");return t(this).is(":checked")?s.slideDown():s.slideUp()}),s=t("button.newsletter-signup"),n={customer:{email:s.data("user-email"),accepts_marketing:!0,contact_source:"onboarding-memberships",tags:["customer","memberships"]}},s.on("click",function(e){return e.preventDefault(),t(".newsletter-prompt .spinner").css("visibility","visible"),t.post("https://api.jilt.com/v2/shops/0f017a8a-d26a-4572-81fd-c9364ae30f90/customer_sessions",n).always(function(){return t("div.newsletter-prompt").html("<p>"+s.data("thank-you")+"</p>")})})})}.call(void 0);